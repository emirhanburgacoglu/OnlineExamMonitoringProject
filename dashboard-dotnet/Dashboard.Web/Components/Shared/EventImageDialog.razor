@using MudBlazor

@code {
    // Başlık olay metni (boşsa "Şüpheli Olay")
    [Parameter] public string? Title { get; set; }
    [Parameter] public DateTime Time { get; set; }
    [Parameter] public string? ImageUrl { get; set; }
}

<MudDialog Class="snapshot-dialog">
    <TitleContent>
        <MudText Typo="Typo.h6">@(!string.IsNullOrWhiteSpace(Title) ? Title : "Şüpheli Olay")</MudText>
    </TitleContent>

    <DialogContent>
        <MudText Typo="Typo.caption" Class="text-secondary px-3 pt-2">
            @Time.ToLocalTime().ToString("yyyy-MM-dd HH:mm:ss")
        </MudText>

        @if (!string.IsNullOrWhiteSpace(ImageUrl))
        {
            <img class="snapshot-img" src="@ImageUrl" alt="@Title" />
        }
        else
        {
            <MudAlert Severity="Severity.Info" Class="ma-3">
                Bu an için görüntü bulunamadı.
            </MudAlert>
        }
    </DialogContent>
</MudDialog>

<style>
    /* Dialog iç padding’i kaldır */
    .snapshot-dialog .mud-dialog-content {
        padding: 0 !important;
    }

    /* Resmi ekrana taşmadan sığdır */
    .snapshot-img {
        display: block;
        max-width: 95vw;
        max-height: 85vh;
        width: auto;
        height: auto;
        object-fit: contain;
        border-radius: 4px;
    }
</style>